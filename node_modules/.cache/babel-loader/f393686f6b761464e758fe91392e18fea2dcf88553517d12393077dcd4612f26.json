{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ace malto/OneDrive/Desktop/dsadsa/react-crud-firebase/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/ace malto/OneDrive/Desktop/dsadsa/react-crud-firebase/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/ace malto/OneDrive/Desktop/dsadsa/react-crud-firebase/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/ace malto/OneDrive/Desktop/dsadsa/react-crud-firebase/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{collection,getDocs,getDoc,deleteDoc,doc}from'firebase/firestore';import{database}from'../firebase/firebase';import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{async}from'@firebase/util';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MySwal=withReactContent(Swal);var Show=function Show(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProduct=_useState2[1];var productsCollection=collection(database,'products');var getProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(productsCollection);case 2:data=_context.sent;// console.log(data.docs)\nsetProduct(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));// console.log(products)\ncase 4:case\"end\":return _context.stop();}},_callee);}));return function getProducts(){return _ref.apply(this,arguments);};}();var deleteProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(id){var productDoc;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:// base dito kukunin mo lang yun ID then\nproductDoc=doc(database,'products',id);_context2.next=3;return deleteDoc(productDoc);case 3:getProducts();case 4:case\"end\":return _context2.stop();}},_callee2);}));return function deleteProduct(_x){return _ref2.apply(this,arguments);};}();var confirmDelete=function confirmDelete(id){MySwal.fire({title:'Delete the product?',text:\"You won't be able to revert this!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#d33',cancelButtonColor:'#3085d6',confirmButtonText:'Yes, delete it!'}).then(function(result){if(result.isConfirmed){deleteProduct(id);Swal.fire('Deleted!','Your file has been deleted.','success');}});};useEffect(function(){getProducts();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/create\",className:\"btn btn-secondary mt-2 mb-2\",children:\"Create\"})}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.description}),/*#__PURE__*/_jsx(\"td\",{children:product.stock}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/edit/\".concat(product.id),className:\"btn btn-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pencil\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){confirmDelete(product.id);},className:\"btn btn-danger\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"})})]})]},product.id);})})]})]})})})});};export default Show;","map":{"version":3,"names":["React","useState","useEffect","Link","collection","getDocs","getDoc","deleteDoc","doc","database","Swal","withReactContent","async","MySwal","Show","products","setProduct","productsCollection","getProducts","data","docs","map","id","deleteProduct","productDoc","confirmDelete","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","product","description","stock"],"sources":["C:/Users/ace malto/OneDrive/Desktop/dsadsa/react-crud-firebase/src/components/Show.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport {collection, getDocs, getDoc, deleteDoc, doc} from 'firebase/firestore'\r\nimport { database } from '../firebase/firebase'\r\n\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport { async } from '@firebase/util'\r\nconst MySwal = withReactContent(Swal)\r\n\r\nconst Show = () => {\r\n\r\n    const [products, setProduct] = useState( [] )\r\n\r\n    const productsCollection = collection(database, 'products')\r\n\r\n    const getProducts = async () => {\r\n        const data = await getDocs(productsCollection)\r\n        // console.log(data.docs)\r\n        setProduct(\r\n            data.docs.map( (doc) => ({...doc.data(), id:doc.id}))\r\n        )\r\n        // console.log(products)\r\n    }\r\n    \r\n    \r\n    const deleteProduct = async (id) => { // base dito kukunin mo lang yun ID then\r\n        const productDoc = doc(database, 'products', id)\r\n        await deleteDoc(productDoc)\r\n        getProducts()\r\n    }\r\n    const confirmDelete = (id) => {\r\n        MySwal.fire({\r\n            title: 'Delete the product?',\r\n            text: \"You won't be able to revert this!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#d33',\r\n            cancelButtonColor: '#3085d6',\r\n            confirmButtonText: 'Yes, delete it!'\r\n        }).then((result) => {\r\n        if (result.isConfirmed) { \r\n                deleteProduct(id)               \r\n                Swal.fire(\r\n                    'Deleted!',\r\n                    'Your file has been deleted.',\r\n                    'success'\r\n                )\r\n            }\r\n        })    \r\n    }\r\n    \r\n    \r\n    useEffect(() => {\r\n        getProducts()\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <div className='container'>\r\n                <div className='row'>\r\n                    <div className='col'>\r\n                        <div className='d-grid gap-2'>\r\n                            <Link to='/create' className='btn btn-secondary mt-2 mb-2'>Create</Link>\r\n                        </div>\r\n\r\n                        <table className='table table-dark table-hover'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Description</th>\r\n                                    <th>Stock</th>\r\n                                    <th>Actions</th>\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                { products.map((product) =>(\r\n                                    <tr key={product.id}>\r\n                                        <td>{product.description}</td>\r\n                                        <td>{product.stock}</td>\r\n                                        <td>\r\n                                            <Link to={`/edit/${product.id}`} className='btn btn-light'><i className='fa-solid fa-pencil'></i></Link>\r\n                                            <button onClick={ () => { confirmDelete(product.id)}} className='btn btn-danger'><i className='fa-solid fa-trash'></i></button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Show"],"mappings":"+lBAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAAQC,UAAU,CAAEC,OAAO,CAAEC,MAAM,CAAEC,SAAS,CAAEC,GAAG,KAAO,oBAAoB,CAC9E,OAASC,QAAQ,KAAQ,sBAAsB,CAE/C,MAAOC,KAAI,KAAM,aAAa,CAC9B,MAAOC,iBAAgB,KAAM,2BAA2B,CACxD,OAASC,KAAK,KAAQ,gBAAgB,8IACtC,GAAMC,OAAM,CAAGF,gBAAgB,CAACD,IAAI,CAAC,CAErC,GAAMI,KAAI,CAAG,QAAPA,KAAI,EAAS,CAEf,cAA+Bb,QAAQ,CAAE,EAAE,CAAE,wCAAtCc,QAAQ,eAAEC,UAAU,eAE3B,GAAMC,mBAAkB,CAAGb,UAAU,CAACK,QAAQ,CAAE,UAAU,CAAC,CAE3D,GAAMS,YAAW,4FAAG,mKACGb,QAAO,CAACY,kBAAkB,CAAC,QAAxCE,IAAI,eACV;AACAH,UAAU,CACNG,IAAI,CAACC,IAAI,CAACC,GAAG,CAAE,SAACb,GAAG,wCAAUA,GAAG,CAACW,IAAI,EAAE,MAAEG,EAAE,CAACd,GAAG,CAACc,EAAE,IAAE,CAAC,CACxD,CACD;AAAA,qDACH,kBAPKJ,YAAW,0CAOhB,CAGD,GAAMK,cAAa,6FAAG,kBAAOD,EAAE,sIAAO;AAC5BE,UAAU,CAAGhB,GAAG,CAACC,QAAQ,CAAE,UAAU,CAAEa,EAAE,CAAC,wBAC1Cf,UAAS,CAACiB,UAAU,CAAC,QAC3BN,WAAW,EAAE,wDAChB,kBAJKK,cAAa,6CAIlB,CACD,GAAME,cAAa,CAAG,QAAhBA,cAAa,CAAIH,EAAE,CAAK,CAC1BT,MAAM,CAACa,IAAI,CAAC,CACRC,KAAK,CAAE,qBAAqB,CAC5BC,IAAI,CAAE,mCAAmC,CACzCC,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,MAAM,CAC1BC,iBAAiB,CAAE,SAAS,CAC5BC,iBAAiB,CAAE,iBACvB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,MAAM,CAAK,CACpB,GAAIA,MAAM,CAACC,WAAW,CAAE,CAChBb,aAAa,CAACD,EAAE,CAAC,CACjBZ,IAAI,CAACgB,IAAI,CACL,UAAU,CACV,6BAA6B,CAC7B,SAAS,CACZ,CACL,CACJ,CAAC,CAAC,CACN,CAAC,CAGDxB,SAAS,CAAC,UAAM,CACZgB,WAAW,EAAE,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,sCACI,YAAK,SAAS,CAAC,WAAW,uBACtB,YAAK,SAAS,CAAC,KAAK,uBAChB,aAAK,SAAS,CAAC,KAAK,wBAChB,YAAK,SAAS,CAAC,cAAc,uBACzB,KAAC,IAAI,EAAC,EAAE,CAAC,SAAS,CAAC,SAAS,CAAC,6BAA6B,UAAC,QAAM,EAAO,EACtE,cAEN,eAAO,SAAS,CAAC,8BAA8B,wBAC3C,oCACI,mCACI,oBAAI,aAAW,EAAK,cACpB,oBAAI,OAAK,EAAK,cACd,oBAAI,SAAO,EAAK,GACf,EACD,cAER,uBACMH,QAAQ,CAACM,GAAG,CAAC,SAACgB,OAAO,qBACnB,mCACI,oBAAKA,OAAO,CAACC,WAAW,EAAM,cAC9B,oBAAKD,OAAO,CAACE,KAAK,EAAM,cACxB,mCACI,KAAC,IAAI,EAAC,EAAE,iBAAWF,OAAO,CAACf,EAAE,CAAG,CAAC,SAAS,CAAC,eAAe,uBAAC,UAAG,SAAS,CAAC,oBAAoB,EAAK,EAAO,cACxG,eAAQ,OAAO,CAAG,kBAAM,CAAEG,aAAa,CAACY,OAAO,CAACf,EAAE,CAAC,EAAE,CAAC,SAAS,CAAC,gBAAgB,uBAAC,UAAG,SAAS,CAAC,mBAAmB,EAAK,EAAS,GAC9H,GANAe,OAAO,CAACf,EAAE,CAOd,EACR,CAAC,EACE,GACJ,GACN,EACJ,EACJ,EACP,CAEX,CAAC,CAED,cAAeR,KAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}